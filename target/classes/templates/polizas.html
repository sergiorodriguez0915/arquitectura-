<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

    <!-- Bootstrap CSS -->
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" rel="stylesheet">

    <!-- FontAwesome Icons -->
    <link th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css}" rel="stylesheet">

    <!-- Tu CSS personalizado -->
    <link rel="stylesheet" th:href="@{/css/estilos.css}">

</head>

<div th:replace="fragments/layout :: layout(~{this :: content})">

    <div th:fragment="content" class="container mt-4">

        <div class="card shadow-sm">
            <div class="card-body">
                <h3 class="mb-4">P贸lizas</h3>

                <a href="/polizas/nueva" class="btn btn-primary mb-3">
                    <i class="fas fa-plus-circle"></i> Nueva p贸liza
                </a>

                <!--  FORMULARIO PARA ELIMINAR POLIZA POR CLAVE -->
                <form th:action="@{/polizas/eliminar}" method="post" class="row g-2 mb-4">

                    <div class="col-auto">
                        <input type="text" name="clave" class="form-control" placeholder="Clave de p贸liza">
                    </div>

                    <div class="col-auto">
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-trash"></i> Eliminar p贸liza
                        </button>
                    </div>
                </form>

                <!-- TABLA DE POLIZAS -->
                <table class="table table-hover">
                    <thead class="table-light">
                    <tr>
                        <th>Clave</th>
                        <th>Tipo</th>
                        <th>Monto</th>
                        <th>Descripci贸n</th>
                        <th>Cliente</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>

                    <tbody>
                    <tr th:each="p : ${polizas}">
                        <td th:text="${p.clave}"></td>
                        <td th:text="${p.tipo}"></td>
                        <td th:text="${p.monto}"></td>
                        <td th:text="${p.descripcion}"></td>
                        <td th:text="${p.cliente.curp}"></td>

                        <td>
                            <!-- Solo bot贸n editar -->
                            <a th:href="@{/polizas/editar/{id}(id=${p.clave})}"
                               class="btn btn-warning btn-sm">Editar</a>
                        </td>
                    </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>
</div>

</html>
