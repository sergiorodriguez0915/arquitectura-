<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <!-- Bootstrap CSS -->
    <link th:href="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css}" rel="stylesheet">

    <!-- FontAwesome Icons -->
    <link th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css}" rel="stylesheet">

    <!-- Tu CSS en /static/css/  -->
    <link rel="stylesheet" th:href="@{/css/estilos.css}">

</head>

<!-- Usamos el layout y enviamos el fragmento "content" -->
<div th:replace="fragments/layout :: layout(~{this :: content})">

<!-- Fragmento que será insertado en el layout -->
<div th:fragment="content" class="container mt-4">


    <div class="card shadow-sm">
      <div class="card-body">
        <h3>Beneficiarios</h3>

        <a th:href="@{/web/beneficiarios/nuevo}" class="btn btn-primary mb-3">
          Nuevo beneficiario
        </a>

        <table class="table table-hover">
          <thead class="table-light">
              <tr>
                <th>ID</th>
                <th>Nombre completo</th>
                <th>CURP</th>
                <th>Parentesco</th>
                <th>Póliza</th>
                <th>Acciones</th>
              </tr>
          </thead>

          <tbody>
              <tr th:each="b : ${beneficiarios}">
                <td th:text="${b.id}"></td>
                <td th:text="${b.nombres + ' ' + b.primerApellido + ' ' + b.segundoApellido}"></td>
                <td th:text="${b.curp}"></td>
                <td th:text="${b.parentesco}"></td>
                <td th:text="${b.clavePoliza}"></td>
                <td>
                  <a th:href="@{/web/beneficiarios/editar/{id}/{p}(id=${b.id},p=${b.clavePoliza})}" class="btn btn-warning btn-sm">Editar</a>
                  <a th:href="@{/web/beneficiarios/eliminar/{id}/{p}(id=${b.id},p=${b.clavePoliza})}" class="btn btn-danger btn-sm">Eliminar</a>
                </td>
              </tr>
          </tbody>

        </table>
      </div>
    </div>
</div>
</div>

</html>
